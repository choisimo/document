UEFI 환경에서 GRUB과 같은 부트 로더를 표준 경로인 `/boot/efi`가 아닌 `/boot`에 설치하면 **시스템이 부팅되지 않습니다.** 이는 UEFI 펌웨어의 작동 방식을 이해하면 명확해집니다.

결론부터 말하자면, UEFI 펌웨어는 오직 **EFI 시스템 파티션(ESP)**에서만 부팅 파일을 찾도록 설계되었기 때문입니다.

---

### ## 왜 부팅이 불가능한가?

#### 1. **펌웨어와 운영체제의 역할 분담**

UEFI 시스템의 부팅 과정은 두 단계로 나뉩니다.

* **1단계: UEFI 펌웨어**
    * 컴퓨터 전원이 켜지면 메인보드의 UEFI 펌웨어가 가장 먼저 실행됩니다.
    * 펌웨어의 역할은 하드웨어를 초기화하고, 미리 정해진 **EFI 시스템 파티션(ESP)**에서 `.efi` 확장자를 가진 부팅 응용 프로그램(예: GRUB, Windows Boot Manager)을 찾아 실행하는 것까지입니다.
    * **중요한 점은 펌웨어는 FAT32와 같은 단순한 파일 시스템만 읽을 수 있으며, Linux의 ext4나 Btrfs 같은 복잡한 파일 시스템은 전혀 인식하지 못한다는 것입니다.**

* **2단계: 부트 로더 (GRUB)**
    * 펌웨어가 ESP에서 GRUB(`grubx64.efi`)을 성공적으로 실행하면, 그때부터 제어권이 GRUB으로 넘어갑니다.
    * GRUB은 비로소 ext4 등 다양한 파일 시스템을 인식할 수 있으며, `/boot` 디렉토리에서 리눅스 커널(`vmlinuz`)과 초기 램디스크(`initrd.img`)를 찾아 메모리에 로드합니다.
    * 그 후 운영체제(리눅스 또는 윈도우)가 시작됩니다.

#### 2. **잘못된 설치 경로의 문제점**

만약 GRUB 부트 로더(`grubx64.efi`)를 `/boot` 디렉토리에 설치했다면, 다음과 같은 문제가 발생합니다.

* `/boot` 디렉토리는 일반적으로 Linux의 **루트 파일 시스템(ext4 등) 내에 존재**합니다.
* UEFI 펌웨어는 ext4 파일 시스템을 읽을 수 없으므로, `/boot` 디렉토리 안에 있는 `grubx64.efi` 파일을 **절대 찾을 수 없습니다.**
* 결과적으로 펌웨어는 부팅할 파일을 찾지 못해 "No bootable device found"와 같은 오류를 출력하며 부팅에 실패합니다.

---

### ## /boot/efi 와 /boot 의 명확한 역할 구분

이 두 디렉토리의 역할을 표로 정리하면 다음과 같습니다.

| 항목 | `/boot/efi` (ESP 파티션의 마운트 지점) | `/boot` (일반 리눅스 디렉토리) |
| :--- | :--- | :--- |
| **역할** | UEFI 펌웨어가 읽는 부트 로더 저장소 | 부트 로더(GRUB)가 읽는 커널 및 설정 파일 저장소 |
| **내용물** | `grubx64.efi`, `bootx64.efi` 등 **부팅 실행 파일** | `vmlinuz` (커널), `initrd.img` (초기 램디스크), `grub.cfg` (GRUB 설정) |
| **파일 시스템** | **FAT32** (필수) | ext4, Btrfs, XFS 등 (리눅스 파일 시스템) |
| **누가 읽는가?** | **UEFI 펌웨어** | **GRUB 부트 로더** |

### ## 요약

**UEFI 환경에서 `/boot/efi`는 UEFI 펌웨어가 운영체제를 깨우기 위해 사용하는 '초인종'과 같습니다.** 만약 이 초인종(`.efi` 파일)을 엉뚱한 장소(예: ext4 파일 시스템 안의 `/boot` 디렉토리)에 설치하면, 펌웨어는 초인종을 찾지 못해 집 안(운영체제)으로 들어갈 수 없게 됩니다.

따라서 윈도우든 리눅스든 UEFI 모드로 OS를 설치할 때는 반드시 **FAT32로 포맷된 별도의 EFI 시스템 파티션(ESP)을 만들고, 그곳에 부트 로더를 설치해야만 정상적으로 부팅이 가능합니다.** 리눅스에서는 이 ESP 파티션을 관례적으로 `/boot/efi`에 마운트하여 사용합니다.


---


## UEFI 부팅의 핵심: EFI 시스템 파티션 (ESP)
UEFI 펌웨어는 기존의 BIOS처럼 하드디스크의 첫 섹터(MBR)를 무작정 읽는 방식이 아닙니다. 대신, EFI 시스템 파티션 (ESP) 이라는 약속된 공간에서 부팅에 필요한 파일(.efi 확장자 파일)을 찾아 실행하는 방식으로 동작합니다.

ESP의 조건:

파일 시스템: 반드시 FAT32 형식이어야 합니다. UEFI 펌웨어는 다른 파일 시스템(ext4, NTFS, Btrfs 등)을 읽을 수 없습니다.
파티션 타입: 고유한 파티션 타입 GUID (C12A7328-F81F-11D2-BA4B-00A0C93EC93B)를 가집니다. 펌웨어는 이 GUID를 보고 ESP 파티션을 식별합니다.
/boot/efi 디렉토리의 역할:
리눅스 설치 시 /boot/efi는 바로 이 ESP 파티션을 연결(마운트)하는 지점입니다. 즉, 설치 과정에서 GRUB의 UEFI 부트 로더 파일(grubx64.efi 등)이 실제로는 /boot/efi 디렉토리를 통해 FAT32 형식의 ESP 파티션 안에 저장되는 것입니다.

예시 경로: /boot/efi/EFI/ubuntu/grubx64.efi
## 왜 /boot에 설치하면 문제가 되는가?
일반적인 리눅스 설치 환경에서 /boot 디렉토리는 보통 운영체제의 루트 파티션(/)에 포함되어 있거나 별도의 파티션으로 분리되더라도 ext4와 같은 리눅스 네이티브 파일 시스템으로 포맷됩니다.

만약 GRUB EFI 부트로더를 /boot에 설치하면 다음과 같은 문제가 발생합니다.

파일 저장 위치: grubx64.efi 파일이 ext4 파일 시스템으로 포맷된 파티션 내의 /boot 디렉토리에 저장됩니다.
펌웨어의 탐색: 시스템 전원이 켜지면 UEFI 펌웨어는 부팅을 위해 디스크에서 **ESP 파티션(FAT32)**을 찾습니다.
탐색 실패: 펌웨어는 ext4 파일 시스템을 읽을 수 없으므로, /boot 디렉토리에 저장된 grubx64.efi 파일을 절대 찾을 수 없습니다.
부팅 실패: 부팅할 파일을 찾지 못한 펌웨어는 부팅 프로세스를 중단하고 "No bootable device found" 와 같은 오류를 표시하거나 UEFI 설정 화면으로 진입합니다.
✈️ 쉽게 비유하자면,
UEFI 펌웨어는 '국제선 터미널(ESP)'에서만 승객(부트 로더)을 태우는 공항 관제 시스템과 같습니다. 그런데 리눅스 설치 프로그램이 승객을 '국내선 터미널(/boot on ext4)'에 데려다 놓은 셈입니다. 국제선 비행기는 당연히 승객을 찾지 못하고 이륙에 실패(부팅 실패)하게 됩니다.

