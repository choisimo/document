<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë§ˆìŒ ì¼ê¸° API ëª…ì„¸ì„œ v1.2</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            min-height: 100vh;
        }

        .sidebar {
            width: 280px;
            background: #fff;
            border-right: 1px solid #e9ecef;
            padding: 20px;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
        }

        .main-content {
            flex: 1;
            margin-left: 280px;
            padding: 20px;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px 20px;
            margin: -20px -20px 30px -20px;
            border-radius: 0 0 15px 15px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .version-info {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-size: 0.9rem;
        }

        .search-box {
            margin-bottom: 20px;
        }

        .search-box input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        .search-box input:focus {
            outline: none;
            border-color: #667eea;
        }

        .nav-section {
            margin-bottom: 25px;
        }

        .nav-section h3 {
            color: #495057;
            font-size: 14px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 10px;
            padding-bottom: 5px;
            border-bottom: 2px solid #e9ecef;
        }

        .nav-item {
            display: block;
            padding: 8px 12px;
            color: #6c757d;
            text-decoration: none;
            border-radius: 6px;
            margin-bottom: 2px;
            transition: all 0.3s;
            font-size: 14px;
        }

        .nav-item:hover {
            background-color: #f8f9fa;
            color: #495057;
            transform: translateX(5px);
        }

        .nav-item.active {
            background-color: #667eea;
            color: white;
        }

        .api-section {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 2px 20px rgba(0,0,0,0.08);
            border: 1px solid #e9ecef;
        }

        .api-section h2 {
            color: #2d3748;
            font-size: 1.8rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        .endpoint {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
        }

        .endpoint h3 {
            color: #2d3748;
            margin-bottom: 15px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .method-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            margin-right: 10px;
        }

        .method-get { background: #d4edda; color: #155724; }
        .method-post { background: #cce5ff; color: #004085; }
        .method-put { background: #fff3cd; color: #856404; }
        .method-delete { background: #f8d7da; color: #721c24; }

        .auth-badge {
            display: inline-block;
            background: #ffd700;
            color: #744210;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
        }

        .public-badge {
            display: inline-block;
            background: #c6f6d5;
            color: #22543d;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
        }

        .endpoint-url {
            font-family: 'Monaco', 'Menlo', monospace;
            background: #2d3748;
            color: #e2e8f0;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 14px;
            margin: 10px 0;
        }

        .info-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .info-table th {
            background: #667eea;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }

        .info-table td {
            padding: 12px;
            border-bottom: 1px solid #e9ecef;
            vertical-align: top;
        }

        .info-table tr:last-child td {
            border-bottom: none;
        }

        .field-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .field-table th {
            background: #4a5568;
            color: white;
            padding: 10px;
            text-align: left;
            font-weight: 600;
            font-size: 13px;
        }

        .field-table td {
            padding: 10px;
            border-bottom: 1px solid #e9ecef;
            font-size: 13px;
            vertical-align: top;
        }

        .field-table tr:last-child td {
            border-bottom: none;
        }

        .required {
            color: #e53e3e;
            font-weight: 600;
        }

        .optional {
            color: #38a169;
            font-weight: 600;
        }

        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 13px;
            line-height: 1.5;
            overflow-x: auto;
            margin: 15px 0;
            position: relative;
        }

        .code-block::before {
            content: 'JSON';
            position: absolute;
            top: 8px;
            right: 12px;
            background: #4a5568;
            color: #e2e8f0;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 10px;
            text-transform: uppercase;
        }

        .status-codes {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }

        .status-code {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .status-200 { background: #d4edda; color: #155724; }
        .status-201 { background: #d1ecf1; color: #0c5460; }
        .status-202 { background: #cce5ff; color: #004085; }
        .status-400 { background: #fff3cd; color: #856404; }
        .status-401 { background: #f8d7da; color: #721c24; }
        .status-403 { background: #f8d7da; color: #721c24; }
        .status-404 { background: #f8d7da; color: #721c24; }
        .status-406 { background: #fff3cd; color: #856404; }
        .status-409 { background: #fff3cd; color: #856404; }
        .status-429 { background: #fff3cd; color: #856404; }
        .status-500 { background: #f5c6cb; color: #721c24; }

        .constraint-info {
            background: #f0fff4;
            border: 1px solid #9ae6b4;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }

        .constraint-info h5 {
            color: #2f855a;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .constraint-info ul {
            margin-left: 20px;
        }

        .error-examples {
            background: #fff5f5;
            border: 1px solid #fed7d7;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }

        .error-examples h5 {
            color: #c53030;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .hidden {
            display: none;
        }

        .highlight {
            background-color: #fff3cd;
            padding: 2px 4px;
            border-radius: 3px;
        }

        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s;
            font-size: 18px;
        }

        .back-to-top:hover {
            background: #5a67d8;
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s;
            }
            
            .sidebar.open {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .container {
                flex-direction: column;
            }
        }

        .menu-toggle {
            display: none;
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 10px;
            cursor: pointer;
        }

        @media (max-width: 768px) {
            .menu-toggle {
                display: block;
            }
        }
    </style>
</head>
<body>
    <button class="menu-toggle" onclick="toggleSidebar()">â˜°</button>
    
    <div class="container">
        <nav class="sidebar" id="sidebar">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="API ê²€ìƒ‰..." onkeyup="searchAPI()">
            </div>
            
            <div class="nav-section">
                <h3>ê°œìš”</h3>
                <a href="#overview" class="nav-item">API ê°œìš”</a>
                <a href="#versioning" class="nav-item">ë²„ì „ ê´€ë¦¬</a>
                <a href="#authentication" class="nav-item">ì¸ì¦ ë°©ì‹</a>
            </div>
            
            <div class="nav-section">
                <h3>ì¸ì¦ API</h3>
                <a href="#auth" class="nav-item">ì¸ì¦ API</a>
            </div>
            
            <div class="nav-section">
                <h3>ì‚¬ìš©ì ê´€ë¦¬</h3>
                <a href="#user" class="nav-item">ì‚¬ìš©ì ê´€ë¦¬ API</a>
            </div>
            
            <div class="nav-section">
                <h3>ì¼ê¸° ê´€ë¦¬</h3>
                <a href="#diary" class="nav-item">ì¼ê¸° API</a>
            </div>
            
            <div class="nav-section">
                <h3>ê°ì • ë¶„ì„</h3>
                <a href="#analysis" class="nav-item">ê°ì • ë¶„ì„ API</a>
            </div>
            
            <div class="nav-section">
                <h3>ì°¸ê³  ìë£Œ</h3>
                <a href="#errors" class="nav-item">ì˜¤ë¥˜ ì²˜ë¦¬</a>
                <a href="#models" class="nav-item">ë°ì´í„° ëª¨ë¸</a>
            </div>
        </nav>

        <main class="main-content">
            <div class="header">
                <h1>ë§ˆìŒ ì¼ê¸° API ëª…ì„¸ì„œ</h1>
                <p>Auth ì„œë²„ ë° ì—°ê´€ API ì¤‘ì‹¬ - Enhanced</p>
                <div class="version-info">
                    <strong>ë²„ì „:</strong> v1.2 | 
                    <strong>ìµœì¢… ì—…ë°ì´íŠ¸:</strong> 2025ë…„ 1ì›” | 
                    <strong>ìƒíƒœ:</strong> ì•ˆì • ë²„ì „
                </div>
            </div>

            <section id="overview" class="api-section">
                <h2>API ê°œìš”</h2>
                <table class="info-table">
                    <tr>
                        <th>í•­ëª©</th>
                        <th>ì„¤ëª…</th>
                    </tr>
                    <tr>
                        <td>ê¸°ë³¸ URL</td>
                        <td><code>https://your-api-domain.com</code></td>
                    </tr>
                    <tr>
                        <td>í˜„ì¬ ë²„ì „</td>
                        <td>v1.2</td>
                    </tr>
                    <tr>
                        <td>ì¸ì¦ ë°©ì‹</td>
                        <td>Bearer Token (JWT)</td>
                    </tr>
                    <tr>
                        <td>ì‘ë‹µ í˜•ì‹</td>
                        <td>JSON</td>
                    </tr>
                    <tr>
                        <td>ë¬¸ì ì¸ì½”ë”©</td>
                        <td>UTF-8</td>
                    </tr>
                    <tr>
                        <td>íƒ€ì„ì¡´</td>
                        <td>UTC (ISO 8601 í˜•ì‹)</td>
                    </tr>
                </table>
            </section>

            <section id="versioning" class="api-section">
                <h2>ë²„ì „ ê´€ë¦¬ ì „ëµ</h2>
                <p>ë§ˆìŒ ì¼ê¸° APIëŠ” ì˜ë¯¸ë¡ ì  ë²„ì „ ê´€ë¦¬(Semantic Versioning)ë¥¼ ë”°ë¦…ë‹ˆë‹¤.</p>
                
                <table class="info-table">
                    <tr>
                        <th>ë²„ì „ í˜•ì‹</th>
                        <th>ì„¤ëª…</th>
                        <th>í•˜ìœ„ í˜¸í™˜ì„±</th>
                    </tr>
                    <tr>
                        <td>Major (v2.0)</td>
                        <td>í˜¸í™˜ë˜ì§€ ì•ŠëŠ” API ë³€ê²½</td>
                        <td>âŒ í˜¸í™˜ë˜ì§€ ì•ŠìŒ</td>
                    </tr>
                    <tr>
                        <td>Minor (v1.3)</td>
                        <td>í•˜ìœ„ í˜¸í™˜ë˜ëŠ” ê¸°ëŠ¥ ì¶”ê°€</td>
                        <td>âœ… í•˜ìœ„ í˜¸í™˜</td>
                    </tr>
                    <tr>
                        <td>Patch (v1.2.1)</td>
                        <td>í•˜ìœ„ í˜¸í™˜ë˜ëŠ” ë²„ê·¸ ìˆ˜ì •</td>
                        <td>âœ… í•˜ìœ„ í˜¸í™˜</td>
                    </tr>
                </table>

                <div class="constraint-info">
                    <h5>ğŸ“‹ ë²„ì „ ì§€ì› ì •ì±…</h5>
                    <ul>
                        <li>í˜„ì¬ Major ë²„ì „: ìµœì†Œ 2ë…„ê°„ ì§€ì›</li>
                        <li>ì´ì „ Major ë²„ì „: 1ë…„ê°„ ì§€ì› (deprecated)</li>
                        <li>ìƒˆë¡œìš´ ê¸°ëŠ¥ì€ ìµœì‹  ë²„ì „ì—ë§Œ ì¶”ê°€</li>
                        <li>ì¤‘ìš”í•œ ë³´ì•ˆ ì—…ë°ì´íŠ¸ëŠ” ëª¨ë“  ì§€ì› ë²„ì „ì— ì ìš©</li>
                    </ul>
                </div>
            </section>

            <section id="authentication" class="api-section">
                <h2>ì¸ì¦ ë°©ì‹</h2>
                <p>APIëŠ” JWT(JSON Web Token) ê¸°ë°˜ì˜ Bearer Token ì¸ì¦ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
                
                <h3>í† í° êµ¬ì¡°</h3>
                <table class="info-table">
                    <tr>
                        <th>í† í° íƒ€ì…</th>
                        <th>ìœ íš¨ ê¸°ê°„</th>
                        <th>ìš©ë„</th>
                    </tr>
                    <tr>
                        <td>Access Token</td>
                        <td>30ë¶„</td>
                        <td>API ìš”ì²­ ì¸ì¦</td>
                    </tr>
                    <tr>
                        <td>Refresh Token</td>
                        <td>7ì¼</td>
                        <td>Access Token ê°±ì‹ </td>
                    </tr>
                </table>

                <h3>ì¸ì¦ í—¤ë” í˜•ì‹</h3>
                <div class="code-block">Authorization: Bearer {access_token}</div>

                <div class="constraint-info">
                    <h5>ğŸ”’ ë³´ì•ˆ ê³ ë ¤ì‚¬í•­</h5>
                    <ul>
                        <li>Access Tokenì€ ë©”ëª¨ë¦¬ì—ë§Œ ì €ì¥ (localStorage ì‚¬ìš© ê¸ˆì§€)</li>
                        <li>Refresh Tokenì€ HttpOnly ì¿ í‚¤ë¡œ ê´€ë¦¬</li>
                        <li>HTTPS ì—°ê²°ì—ì„œë§Œ í† í° ì „ì†¡</li>
                        <li>í† í° ë§Œë£Œ ì‹œ ìë™ ê°±ì‹  ë¡œì§ êµ¬í˜„ ê¶Œì¥</li>
                    </ul>
                </div>
            </section>

            <section id="auth" class="api-section">
                <h2>ì¸ì¦ API</h2>
                
                <div class="endpoint">
                    <h3>ì¸ì¦ ìƒíƒœ í™•ì¸ <span class="auth-badge">ğŸ” ì¸ì¦ í•„ìš”</span></h3>
                    <div>
                        <span class="method-badge method-get">GET</span>
                        <div class="endpoint-url">/auth_check</div>
                    </div>
                    <p>í˜„ì¬ ìš”ì²­ì´ ìœ íš¨í•œ ì¸ì¦ í† í°ì„ ê°€ì§€ê³  ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.</p>
                    
                    <table class="info-table">
                        <tr>
                            <th>í•­ëª©</th>
                            <th>ì„¤ëª…</th>
                        </tr>
                        <tr>
                            <td>ì¸ì¦</td>
                            <td>Bearer Token í•„ìš”</td>
                        </tr>
                        <tr>
                            <td>ì‘ë‹µ ì½”ë“œ</td>
                            <td>
                                <div class="status-codes">
                                    <span class="status-code status-200">200: ì¸ì¦ë¨</span>
                                    <span class="status-code status-401">401: ì¸ì¦ë˜ì§€ ì•ŠìŒ</span>
                                </div>
                            </td>
                        </tr>
                    </table>

                    <div class="error-examples">
                        <h5>âš ï¸ ì˜¤ë¥˜ ì‘ë‹µ ì˜ˆì‹œ</h5>
                        <div class="code-block">{
  "timestamp": "2024-01-15T10:30:00Z",
  "status": 401,
  "error": "Unauthorized",
  "message": "JWT token is expired",
  "path": "/auth_check"
}</div>
                    </div>
                </div>

                <div class="endpoint">
                    <h3>JWT í† í° ì¬ë°œê¸‰ <span class="auth-badge">ğŸ” ì¸ì¦ í•„ìš”</span></h3>
                    <div>
                        <span class="method-badge method-post">POST</span>
                        <div class="endpoint-url">/auth/api/protected/refresh</div>
                    </div>
                    <p>ë§Œë£Œëœ Access Tokenê³¼ ìœ íš¨í•œ Refresh Tokenì„ ì‚¬ìš©í•˜ì—¬ ìƒˆë¡œìš´ Access Tokenì„ ë°œê¸‰ë°›ìŠµë‹ˆë‹¤.</p>
                    
                    <h4>ìš”ì²­ í•„ë“œ</h4>
                    <table class="field-table">
                        <tr>
                            <th>í•„ë“œëª…</th>
                            <th>íƒ€ì…</th>
                            <th>í•„ìˆ˜/ì„ íƒ</th>
                            <th>ì œì•½ ì¡°ê±´</th>
                            <th>ì„¤ëª…</th>
                        </tr>
                        <tr>
                            <td>expiredToken</td>
                            <td>string</td>
                            <td><span class="required">í•„ìˆ˜</span></td>
                            <td>JWT í˜•ì‹</td>
                            <td>ë§Œë£Œëœ Access Token</td>
                        </tr>
                        <tr>
                            <td>provider</td>
                            <td>string</td>
                            <td><span class="required">í•„ìˆ˜</span></td>
                            <td>"server", "google", "kakao", "naver"</td>
                            <td>ì¸ì¦ ì œê³µì</td>
                        </tr>
                    </table>

                    <h4>ìš”ì²­ ë³¸ë¬¸</h4>
                    <div class="code-block">{
  "expiredToken": "eyJhbGciOiJIUzUxMiJ9...",
  "provider": "server"
}</div>

                    <h4>ì‘ë‹µ ë³¸ë¬¸</h4>
                    <div class="code-block">{
  "access_token": "eyJhbGciOiJIUzUxMiJ9...",
  "expires_in": 1800,
  "token_type": "Bearer"
}</div>

                    <div class="status-codes">
                        <span class="status-code status-200">200: í† í° ì¬ë°œê¸‰ ì„±ê³µ</span>
                        <span class="status-code status-401">401: Refresh Token ë¬´íš¨</span>
                        <span class="status-code status-406">406: ìš”ì²­ ìœ íš¨í•˜ì§€ ì•ŠìŒ</span>
                    </div>

                    <div class="error-examples">
                        <h5>âš ï¸ ì˜¤ë¥˜ ì‘ë‹µ ì˜ˆì‹œ</h5>
                        <div class="code-block">{
  "timestamp": "2024-01-15T10:30:00Z",
  "status": 401,
  "error": "Unauthorized",
  "message": "Refresh token not found or expired",
  "path": "/auth/api/protected/refresh"
}</div>
                    </div>
                </div>
            </section>

            <section id="user" class="api-section">
                <h2>ì‚¬ìš©ì ê´€ë¦¬ API</h2>
                
                <div class="endpoint">
                    <h3>íšŒì› ê°€ì… <span class="public-badge">ğŸŒ ê³µê°œ</span></h3>
                    <div>
                        <span class="method-badge method-post">POST</span>
                        <div class="endpoint-url">/api/public/join</div>
                    </div>
                    <p>ìƒˆë¡œìš´ ì‚¬ìš©ìë¥¼ ë“±ë¡í•©ë‹ˆë‹¤. ì´ë©”ì¼ ì¸ì¦ ì½”ë“œê°€ ì‚¬ì „ì— ê²€ì¦ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.</p>
                    
                    <h4>ìš”ì²­ í•„ë“œ</h4>
                    <table class="field-table">
                        <tr>
                            <th>í•„ë“œëª…</th>
                            <th>íƒ€ì…</th>
                            <th>í•„ìˆ˜/ì„ íƒ</th>
                            <th>ì œì•½ ì¡°ê±´</th>
                            <th>ì„¤ëª…</th>
                        </tr>
                        <tr>
                            <td>userId</td>
                            <td>string</td>
                            <td><span class="required">í•„ìˆ˜</span></td>
                            <td>4-20ì, ì˜ë¬¸+ìˆ«ì</td>
                            <td>ì‚¬ìš©ì ID</td>
                        </tr>
                        <tr>
                            <td>userPw</td>
                            <td>string</td>
                            <td><span class="required">í•„ìˆ˜</span></td>
                            <td>8-50ì, ì˜ë¬¸+ìˆ«ì+íŠ¹ìˆ˜ë¬¸ì</td>
                            <td>ë¹„ë°€ë²ˆí˜¸</td>
                        </tr>
                        <tr>
                            <td>userName</td>
                            <td>string</td>
                            <td><span class="required">í•„ìˆ˜</span></td>
                            <td>2-20ì</td>
                            <td>ì‹¤ëª…</td>
                        </tr>
                        <tr>
                            <td>nickname</td>
                            <td>string</td>
                            <td><span class="required">í•„ìˆ˜</span></td>
                            <td>2-15ì, ì¤‘ë³µ ë¶ˆê°€</td>
                            <td>ë‹‰ë„¤ì„</td>
                        </tr>
                        <tr>
                            <td>phone</td>
                            <td>string</td>
                            <td><span class="optional">ì„ íƒ</span></td>
                            <td>010-XXXX-XXXX í˜•ì‹</td>
                            <td>íœ´ëŒ€í° ë²ˆí˜¸</td>
                        </tr>
                        <tr>
                            <td>email</td>
                            <td>string</td>
                            <td><span class="required">í•„ìˆ˜</span></td>
                            <td>ìœ íš¨í•œ ì´ë©”ì¼ í˜•ì‹</td>
                            <td>ì´ë©”ì¼ ì£¼ì†Œ</td>
                        </tr>
                        <tr>
                            <td>birthDate</td>
                            <td>string</td>
                            <td><span class="optional">ì„ íƒ</span></td>
                            <td>YYYY-MM-DD í˜•ì‹</td>
                            <td>ìƒë…„ì›”ì¼</td>
                        </tr>
                        <tr>
                            <td>gender</td>
                            <td>string</td>
                            <td><span class="optional">ì„ íƒ</span></td>
                            <td>"male", "female", "other"</td>
                            <td>ì„±ë³„</td>
                        </tr>
                        <tr>
                            <td>isPrivate</td>
                            <td>boolean</td>
                            <td><span class="optional">ì„ íƒ</span></td>
                            <td>ê¸°ë³¸ê°’: false</td>
                            <td>í”„ë¡œí•„ ê³µê°œ ì—¬ë¶€</td>
                        </tr>
                        <tr>
                            <td>profile</td>
                            <td>string</td>
                            <td><span class="optional">ì„ íƒ</span></td>
                            <td>ìœ íš¨í•œ URL</td>
                            <td>í”„ë¡œí•„ ì´ë¯¸ì§€ URL</td>
                        </tr>
                        <tr>
                            <td>code</td>
                            <td>string</td>
                            <td><span class="required">í•„ìˆ˜</span></td>
                            <td>8ìë¦¬ ì˜ë¬¸+ìˆ«ì</td>
                            <td>ì´ë©”ì¼ ì¸ì¦ ì½”ë“œ</td>
                        </tr>
                    </table>

                    <div class="constraint-info">
                        <h5>ğŸ“‹ ë¹„ë°€ë²ˆí˜¸ ì •ì±…</h5>
                        <ul>
                            <li>ìµœì†Œ 8ì, ìµœëŒ€ 50ì</li>
                            <li>ì˜ë¬¸ ëŒ€ì†Œë¬¸ì, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ì ì¤‘ 3ì¢…ë¥˜ ì´ìƒ í¬í•¨</li>
                            <li>ì—°ì†ëœ ë¬¸ì 3ê°œ ì´ìƒ ì‚¬ìš© ê¸ˆì§€</li>
                            <li>ì‚¬ìš©ì IDì™€ ë™ì¼í•˜ê±°ë‚˜ í¬í•¨ ê¸ˆì§€</li>
                        </ul>
                    </div>

                    <h4>ìš”ì²­ ë³¸ë¬¸</h4>
                    <div class="code-block">{
  "userId": "newUser123",
  "userPw": "password123!",
  "userName": "í™ê¸¸ë™",
  "nickname": "ì¾Œí™œí•œë‹¤ëŒì¥",
  "phone": "010-1234-5678",
  "email": "user@example.com",
  "role": "USER",
  "birthDate": "1990-01-01",
  "gender": "male",
  "isPrivate": false,
  "profile": "https://example.com/profile.jpg",
  "code": "A1B2C3D4"
}</div>

                    <h4>ì‘ë‹µ ë³¸ë¬¸</h4>
                    <div class="code-block">{
  "message": "join successfully",
  "userId": "newUser123",
  "createdAt": "2024-01-15T10:30:00Z"
}</div>

                    <div class="status-codes">
                        <span class="status-code status-200">200: íšŒì› ê°€ì… ì„±ê³µ</span>
                        <span class="status-code status-400">400: ì˜ëª»ëœ ìš”ì²­</span>
                        <span class="status-code status-409">409: ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì•„ì´ë””/ë‹‰ë„¤ì„</span>
                        <span class="status-code status-500">500: ì„œë²„ ì˜¤ë¥˜</span>
                    </div>

                    <div class="error-examples">
                        <h5>âš ï¸ ìœ íš¨ì„± ê²€ì‚¬ ì˜¤ë¥˜ ì˜ˆì‹œ</h5>
                        <div class="code-block">{
  "timestamp": "2024-01-15T10:30:00Z",
  "status": 400,
  "error": "Bad Request",
  "message": "Validation failed",
  "path": "/api/public/join",
  "validationErrors": [
    {
      "field": "userPw",
      "message": "ë¹„ë°€ë²ˆí˜¸ëŠ” 8ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤"
    },
    {
      "field": "email",
      "message": "ìœ íš¨í•œ ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤"
    }
  ]
}</div>
                    </div>
                </div>

                <div class="endpoint">
                    <h3>ë¡œê·¸ì¸ <span class="public-badge">ğŸŒ ê³µê°œ</span></h3>
                    <div>
                        <span class="method-badge method-post">POST</span>
                        <div class="endpoint-url">/api/auth/login</div>
                    </div>
                    <p>ì‚¬ìš©ì IDì™€ ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸í•˜ê³  JWT í† í°ì„ ë°œê¸‰ë°›ìŠµë‹ˆë‹¤.</p>
                    
                    <h4>ìš”ì²­ í•„ë“œ</h4>
                    <table class="field-table">
                        <tr>
                            <th>í•„ë“œëª…</th>
                            <th>íƒ€ì…</th>
                            <th>í•„ìˆ˜/ì„ íƒ</th>
                            <th>ì œì•½ ì¡°ê±´</th>
                            <th>ì„¤ëª…</th>
                        </tr>
                        <tr>
                            <td>userId</td>
                            <td>string</td>
                            <td><span class="required">í•„ìˆ˜</span></td>
                            <td>4-20ì</td>
                            <td>ì‚¬ìš©ì ID</td>
                        </tr>
                        <tr>
                            <td>password</td>
                            <td>string</td>
                            <td><span class="required">í•„ìˆ˜</span></td>
                            <td>8-50ì</td>
                            <td>ë¹„ë°€ë²ˆí˜¸</td>
                        </tr>
                    </table>

                    <h4>ìš”ì²­ ë³¸ë¬¸</h4>
                    <div class="code-block">{
  "userId": "newUser123",
  "password": "password123!"
}</div>

                    <h4>ì‘ë‹µ ë³¸ë¬¸</h4>
                    <div class="code-block">{
  "access_token": "eyJhbGciOiJIUzUxMiJ9...",
  "expires_in": 1800,
  "token_type": "Bearer",
  "user": {
    "userId": "newUser123",
    "nickname": "ì¾Œí™œí•œë‹¤ëŒì¥",
    "role": "USER"
  }
}</div>

                    <div class="status-codes">
                        <span class="status-code status-200">200: ë¡œê·¸ì¸ ì„±ê³µ</span>
                        <span class="status-code status-400">400: ì˜ëª»ëœ ìš”ì²­</span>
                        <span class="status-code status-401">401: ë¡œê·¸ì¸ ì‹¤íŒ¨</span>
                    </div>

                    <div class="constraint-info">
                        <h5>ğŸ”’ ë¡œê·¸ì¸ ë³´ì•ˆ ì •ì±…</h5>
                        <ul>
                            <li>5íšŒ ì—°ì† ì‹¤íŒ¨ ì‹œ ê³„ì • ì ê¸ˆ (30ë¶„)</li>
                            <li>ë¡œê·¸ì¸ ì„±ê³µ ì‹œ ì´ì „ ì„¸ì…˜ ë¬´íš¨í™”</li>
                            <li>Refresh Tokenì€ HttpOnly ì¿ í‚¤ë¡œ ì„¤ì •</li>
                        </ul>
                    </div>
                </div>

                <div class="endpoint">
                    <h3>í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ <span class="public-badge">ğŸŒ ê³µê°œ</span></h3>
                    <div>
                        <span class="method-badge method-post">POST</span>
                        <div class="endpoint-url">/api/public/profileUpload</div>
                    </div>
                    <p>ì‚¬ìš©ì í”„ë¡œí•„ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•˜ê³  ì´ë¯¸ì§€ URLì„ ë°˜í™˜ë°›ìŠµë‹ˆë‹¤.</p>
                    
                    <table class="info-table">
                        <tr>
                            <th>í•­ëª©</th>
                            <th>ì„¤ëª…</th>
                        </tr>
                        <tr>
                            <td>ìš”ì²­ í˜•ì‹</td>
                            <td>multipart/form-data</td>
                        </tr>
                        <tr>
                            <td>íŒŒì¼ í•„ë“œëª…</td>
                            <td>profile</td>
                        </tr>
                        <tr>
                            <td>ì§€ì› í˜•ì‹</td>
                            <td>JPG, PNG, GIF</td>
                        </tr>
                        <tr>
                            <td>ìµœëŒ€ í¬ê¸°</td>
                            <td>5MB</td>
                        </tr>
                        <tr>
                            <td>ê¶Œì¥ í•´ìƒë„</td>
                            <td>500x500px</td>
                        </tr>
                    </table>

                    <h4>ì‘ë‹µ ë³¸ë¬¸</h4>
                    <div class="code-block">{
  "fileName": "https://your-file-server.com/attach/profile/xxxx_profile.jpg",
  "originalName": "profile.jpg",
  "size": 1024000,
  "uploadedAt": "2024-01-15T10:30:00Z"
}</div>

                    <div class="status-codes">
                        <span class="status-code status-200">200: ì—…ë¡œë“œ ì„±ê³µ</span>
                        <span class="status-code status-400">400: ì˜ëª»ëœ íŒŒì¼</span>
                        <span class="status-code status-500">500: ì„œë²„ ì˜¤ë¥˜</span>
                    </div>
                </div>

                <div class="endpoint">
                    <h3>ì‚¬ìš©ì ID ì¤‘ë³µ ì²´í¬ <span class="public-badge">ğŸŒ ê³µê°œ</span></h3>
                    <div>
                        <span class="method-badge method-post">POST</span>
                        <div class="endpoint-url">/api/public/check/userId/IsDuplicate</div>
                    </div>
                    <p>ì œê³µëœ ì‚¬ìš©ì IDê°€ ì´ë¯¸ ì‚¬ìš© ì¤‘ì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.</p>
                    
                    <h4>ìš”ì²­ ë³¸ë¬¸</h4>
                    <div class="code-block">{
  "userId": "newUser123"
}</div>

                    <h4>ì‘ë‹µ ë³¸ë¬¸</h4>
                    <div class="code-block">{
  "isDuplicate": true,
  "message": "ì´ë¯¸ ì‚¬ìš© ì¤‘ì¸ ì•„ì´ë””ì…ë‹ˆë‹¤"
}</div>

                    <div class="status-codes">
                        <span class="status-code status-200">200: ì¤‘ë³µ ì²´í¬ ì™„ë£Œ</span>
                    </div>
                </div>

                <div class="endpoint">
                    <h3>ë‹‰ë„¤ì„ ì¤‘ë³µ ì²´í¬ <span class="public-badge">ğŸŒ ê³µê°œ</span></h3>
                    <div>
                        <span class="method-badge method-post">POST</span>
                        <div class="endpoint-url">/api/public/check/nickname/IsDuplicate</div>
                    </div>
                    <p>ì œê³µëœ ë‹‰ë„¤ì„ì´ ì´ë¯¸ ì‚¬ìš© ì¤‘ì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.</p>
                    
                    <h4>ìš”ì²­ ë³¸ë¬¸</h4>
                    <div class="code-block">{
  "nickname": "ì¾Œí™œí•œë‹¤ëŒì¥"
}</div>

                    <h4>ì‘ë‹µ ë³¸ë¬¸</h4>
                    <div class="code-block">{
  "isDuplicate": false,
  "message": "ì‚¬ìš© ê°€ëŠ¥í•œ ë‹‰ë„¤ì„ì…ë‹ˆë‹¤"
}</div>

                    <div class="status-codes">
                        <span class="status-code status-200">200: ì¤‘ë³µ ì²´í¬ ì™„ë£Œ</span>
                    </div>
                </div>

                <div class="endpoint">
                    <h3>ë¡œê·¸ì•„ì›ƒ (í† í° ì •ë¦¬) <span class="public-badge">ğŸŒ ê³µê°œ</span></h3>
                    <div>
                        <span class="method-badge method-post">POST</span>
                        <div class="endpoint-url">/api/public/clean/userTokenCookie</div>
                    </div>
                    <p>í´ë¼ì´ì–¸íŠ¸ì˜ refreshToken ì¿ í‚¤ë¥¼ ë§Œë£Œì‹œì¼œ ì œê±°í•©ë‹ˆë‹¤.</p>
                    
                    <h4>ì‘ë‹µ ë³¸ë¬¸</h4>
                    <div class="code-block">{
  "message": "refreshToken deleted",
  "loggedOutAt": "2024-01-15T10:30:00Z"
}</div>

                    <div class="status-codes">
                        <span class="status-code status-200">200: ë¡œê·¸ì•„ì›ƒ ì„±ê³µ</span>
                    </div>
                </div>
            </section>

            <section id="diary" class="api-section">
                <h2>ì¼ê¸° API</h2>
                
                <div class="endpoint">
                    <h3>ì¼ê¸° ì‘ì„± <span class="auth-badge">ğŸ” ì¸ì¦ í•„ìš”</span></h3>
                    <div>
                        <span class="method-badge method-post">POST</span>
                        <div class="endpoint-url">/api/diaries</div>
                    </div>
                    <p>ìƒˆë¡œìš´ ì¼ê¸°ë¥¼ ì‘ì„±í•˜ê³  ì €ì¥í•©ë‹ˆë‹¤.</p>
                    
                    <h4>ìš”ì²­ í•„ë“œ</h4>
                    <table class="field-table">
                        <tr>
                            <th>í•„ë“œëª…</th>
                            <th>íƒ€ì…</th>
                            <th>í•„ìˆ˜/ì„ íƒ</th>
                            <th>ì œì•½ ì¡°ê±´</th>
                            <th>ì„¤ëª…</th>
                        </tr>
                        <tr>
                            <td>title</td>
                            <td>string</td>
                            <td><span class="optional">ì„ íƒ</span></td>
                            <td>1-100ì</td>
                            <td>ì¼ê¸° ì œëª©</td>
                        </tr>
                        <tr>
                            <td>content</td>
                            <td>string</td>
                            <td><span class="required">í•„ìˆ˜</span></td>
                            <td>10-5000ì</td>
                            <td>ì¼ê¸° ë‚´ìš©</td>
                        </tr>
                    </table>

                    <h4>ìš”ì²­ ë³¸ë¬¸</h4>
                    <div class="code-block">{
  "title": "ì˜¤ëŠ˜ì˜ ì¼ê¸°",
  "content": "ì˜¤ëŠ˜ì€ ì •ë§ ì¦ê±°ìš´ í•˜ë£¨ì˜€ë‹¤. ì¹œêµ¬ë“¤ê³¼ í•¨ê»˜ ì¹´í˜ì—ì„œ ì¦ê±°ìš´ ì‹œê°„ì„ ë³´ëƒˆê³ , ìƒˆë¡œìš´ ì±…ë„ ì½ê¸° ì‹œì‘í–ˆë‹¤."
}</div>

                    <h4>ì‘ë‹µ ë³¸ë¬¸</h4>
                    <div class="code-block">{
  "id": 1,
  "userId": 123,
  "title": "ì˜¤ëŠ˜ì˜ ì¼ê¸°",
  "content": "ì˜¤ëŠ˜ì€ ì •ë§ ì¦ê±°ìš´ í•˜ë£¨ì˜€ë‹¤...",
  "createdAt": "2024-01-15T10:30:00Z",
  "updatedAt": "2024-01-15T10:30:00Z",
  "wordCount": 45,
  "isAnalyzed": false
}</div>

                    <div class="status-codes">
                        <span class="status-code status-201">201: ì¼ê¸° ì‘ì„± ì„±ê³µ</span>
                        <span class="status-code status-400">400: ì˜ëª»ëœ ìš”ì²­</span>
                        <span class="status-code status-401">401: ì¸ì¦ ì‹¤íŒ¨</span>
                    </div>

                    <div class="constraint-info">
                        <h5>ğŸ“ ì¼ê¸° ì‘ì„± ê°€ì´ë“œ</h5>
                        <ul>
                            <li>í•˜ë£¨ì— ìµœëŒ€ 5ê°œì˜ ì¼ê¸° ì‘ì„± ê°€ëŠ¥</li>
                            <li>ë‚´ìš©ì€ ìµœì†Œ 10ì ì´ìƒ ì‘ì„± í•„ìš”</li>
                            <li>ì œëª©ì´ ì—†ì„ ê²½ìš° ìë™ìœ¼ë¡œ ë‚ ì§œë¡œ ì„¤ì •</li>
                            <li>ì‘ì„± í›„ ê°ì • ë¶„ì„ì„ ìœ„í•´ ë³„ë„ API í˜¸ì¶œ í•„ìš”</li>
                        </ul>
                    </div>
                </div>

                <div class="endpoint">
                    <h3>ì¼ê¸° ëª©ë¡ ì¡°íšŒ <span class="auth-badge">ğŸ” ì¸ì¦ í•„ìš”</span></h3>
                    <div>
                        <span class="method-badge method-get">GET</span>
                        <div class="endpoint-url">/api/diaries</div>
                    </div>
                    <p>ì‚¬ìš©ìê°€ ì‘ì„±í•œ ì¼ê¸° ëª©ë¡ì„ í˜ì´ì§€ë„¤ì´ì…˜í•˜ì—¬ ì¡°íšŒí•©ë‹ˆë‹¤.</p>
                    
                    <h4>ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°</h4>
                    <table class="field-table">
                        <tr>
                            <th>íŒŒë¼ë¯¸í„°ëª…</th>
                            <th>íƒ€ì…</th>
                            <th>í•„ìˆ˜/ì„ íƒ</th>
                            <th>ê¸°ë³¸ê°’</th>
                            <th>ì„¤ëª…</th>
                        </tr>
                        <tr>
                            <td>page</td>
                            <td>integer</td>
                            <td><span class="optional">ì„ íƒ</span></td>
                            <td>0</td>
                            <td>í˜ì´ì§€ ë²ˆí˜¸ (0ë¶€í„° ì‹œì‘)</td>
                        </tr>
                        <tr>
                            <td>size</td>
                            <td>integer</td>
                            <td><span class="optional">ì„ íƒ</span></td>
                            <td>10</td>
                            <td>í˜ì´ì§€ ë‹¹ í•­ëª© ìˆ˜ (ìµœëŒ€ 50)</td>
                        </tr>
                        <tr>
                            <td>sort</td>
                            <td>string</td>
                            <td><span class="optional">ì„ íƒ</span></td>
                            <td>createdAt,desc</td>
                            <td>ì •ë ¬ ê¸°ì¤€</td>
                        </tr>
                        <tr>
                            <td>startDate</td>
                            <td>string</td>
                            <td><span class="optional">ì„ íƒ</span></td>
                            <td>-</td>
                            <td>ì‹œì‘ ë‚ ì§œ (YYYY-MM-DD)</td>
                        </tr>
                        <tr>
                            <td>endDate</td>
                            <td>string</td>
                            <td><span class="optional">ì„ íƒ</span></td>
                            <td>-</td>
                            <td>ì¢…ë£Œ ë‚ ì§œ (YYYY-MM-DD)</td>
                        </tr>
                    </table>

                    <h4>ì‘ë‹µ ë³¸ë¬¸</h4>
                    <div class="code-block">{
  "diaries": [
    {
      "id": 1,
      "title": "ì˜¤ëŠ˜ì˜ ì¼ê¸°",
      "createdAt": "2024-01-15T10:30:00Z",
      "emotionStatus": "POSITIVE",
      "wordCount": 45,
      "isAnalyzed": true
    }
  ],
  "pageInfo": {
    "currentPage": 0,
    "totalPages": 5,
    "totalElements": 42,
    "hasNext": true,
    "hasPrevious": false
  }
}</div>

                    <div class="status-codes">
                        <span class="status-code status-200">200: ì¼ê¸° ëª©ë¡ ì¡°íšŒ ì„±ê³µ</span>
                        <span class="status-code status-401">401: ì¸ì¦ ì‹¤íŒ¨</span>
                    </div>
                </div>
            </section>

            <section id="analysis" class="api-section">
                <h2>ê°ì • ë¶„ì„ API</h2>
                
                <div class="endpoint">
                    <h3>ì¼ê¸° ê°ì • ë¶„ì„ ìš”ì²­ <span class="auth-badge">ğŸ” ì¸ì¦ í•„ìš”</span></h3>
                    <div>
                        <span class="method-badge method-post">POST</span>
                        <div class="endpoint-url">/api/diaries/{diaryId}/analysis</div>
                    </div>
                    <p>íŠ¹ì • ì¼ê¸°ì— ëŒ€í•œ AI ê°ì • ë¶„ì„ì„ ë¹„ë™ê¸°ì ìœ¼ë¡œ ìš”ì²­í•©ë‹ˆë‹¤.</p>
                    
                    <h4>ê²½ë¡œ íŒŒë¼ë¯¸í„°</h4>
                    <table class="field-table">
                        <tr>
                            <th>íŒŒë¼ë¯¸í„°ëª…</th>
                            <th>íƒ€ì…</th>
                            <th>í•„ìˆ˜/ì„ íƒ</th>
                            <th>ì œì•½ ì¡°ê±´</th>
                            <th>ì„¤ëª…</th>
                        </tr>
                        <tr>
                            <td>diaryId</td>
                            <td>integer</td>
                            <td><span class="required">í•„ìˆ˜</span></td>
                            <td>ì–‘ì˜ ì •ìˆ˜</td>
                            <td>ë¶„ì„í•  ì¼ê¸°ì˜ ID</td>
                        </tr>
                    </table>

                    <h4>ì‘ë‹µ ë³¸ë¬¸</h4>
                    <div class="code-block">{
  "message": "Emotion analysis request accepted. Processing in background.",
  "diaryId": 1,
  "trackingId": "kafka-message-id-12345",
  "estimatedTime": "2-5ë¶„",
  "requestedAt": "2024-01-15T10:30:00Z"
}</div>

                    <div class="status-codes">
                        <span class="status-code status-202">202: ë¶„ì„ ìš”ì²­ ì„±ê³µ</span>
                        <span class="status-code status-401">401: ì¸ì¦ ì‹¤íŒ¨</span>
                        <span class="status-code status-403">403: ì ‘ê·¼ ê¶Œí•œ ì—†ìŒ</span>
                        <span class="status-code status-404">404: ì¼ê¸°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ</span>
                        <span class="status-code status-409">409: ì´ë¯¸ ë¶„ì„ ì¤‘ì´ê±°ë‚˜ ì™„ë£Œë¨</span>
                    </div>

                    <div class="constraint-info">
                        <h5>ğŸ¤– AI ë¶„ì„ ì •ë³´</h5>
                        <ul>
                            <li>ë¶„ì„ ì†Œìš” ì‹œê°„: í‰ê·  2-5ë¶„</li>
                            <li>ì¼ê¸° ë‚´ìš©ì´ 10ì ë¯¸ë§Œì¼ ê²½ìš° ë¶„ì„ ë¶ˆê°€</li>
                            <li>í•˜ë£¨ ìµœëŒ€ 20íšŒ ë¶„ì„ ìš”ì²­ ê°€ëŠ¥</li>
                            <li>ë¶„ì„ ê²°ê³¼ëŠ” SSEë¥¼ í†µí•´ ì‹¤ì‹œê°„ ì•Œë¦¼</li>
                        </ul>
                    </div>
                </div>

                <div class="endpoint">
                    <h3>ì¼ê¸° ê°ì • ë¶„ì„ ê²°ê³¼ ì¡°íšŒ <span class="auth-badge">ğŸ” ì¸ì¦ í•„ìš”</span></h3>
                    <div>
                        <span class="method-badge method-get">GET</span>
                        <div class="endpoint-url">/api/diaries/{diaryId}/analysis</div>
                    </div>
                    <p>íŠ¹ì • ì¼ê¸°ì˜ AI ê°ì • ë¶„ì„ ê²°ê³¼ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.</p>
                    
                    <h4>ì‘ë‹µ ë³¸ë¬¸ (ë¶„ì„ ì™„ë£Œ)</h4>
                    <div class="code-block">{
  "diaryId": 1,
  "analysis": {
    "id": 42,
    "emotionDetection": {
      "joy": 80,
      "sadness": 10,
      "surprise": 5,
      "calm": 5
    },
    "emotionSummary": "ê¸°ì¨ 80%, ìŠ¬í”” 10%, ë†€ëŒ 5%, í‰ì˜¨ 5%",
    "automaticThought": "ë‚˜ëŠ” í•­ìƒ ì‹¤íŒ¨í•œë‹¤.",
    "promptForChange": "ì •ë§ í•­ìƒ ì‹¤íŒ¨í–ˆë‚˜ìš”? ì„±ê³µí–ˆë˜ ê²½í—˜ì„ ë– ì˜¬ë ¤ë³¼ê¹Œìš”?",
    "alternativeThought": "ê³¼ê±°ì— ëª‡ ë²ˆ ì‹¤íŒ¨í–ˆì§€ë§Œ, ê·¸ê²ƒì´ í•­ìƒ ì‹¤íŒ¨í•œë‹¤ëŠ” ì˜ë¯¸ëŠ” ì•„ë‹ˆë‹¤. ì´ë²ˆì—ëŠ” ë‹¤ë¥¸ ë°©ë²•ì„ ì‹œë„í•´ë³¼ ìˆ˜ ìˆë‹¤.",
    "status": "POSITIVE",
    "confidence": 0.85,
    "analyzedAt": "2024-01-15T10:35:00Z"
  }
}</div>

                    <h4>ì‘ë‹µ ë³¸ë¬¸ (ë¶„ì„ ì§„í–‰ ì¤‘)</h4>
                    <div class="code-block">{
  "message": "Analysis is still in progress.",
  "diaryId": 1,
  "progress": 65,
  "estimatedRemaining": "1-2ë¶„"
}</div>

                    <div class="status-codes">
                        <span class="status-code status-200">200: ë¶„ì„ ê²°ê³¼ ì¡°íšŒ ì„±ê³µ</span>
                        <span class="status-code status-202">202: ë¶„ì„ ì§„í–‰ ì¤‘</span>
                        <span class="status-code status-401">401: ì¸ì¦ ì‹¤íŒ¨</span>
                        <span class="status-code status-404">404: ë¶„ì„ ê²°ê³¼ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ</span>
                    </div>
                </div>
            </section>

            <section id="errors" class="api-section">
                <h2>ì˜¤ë¥˜ ì²˜ë¦¬</h2>
                
                <h3>í‘œì¤€ ì˜¤ë¥˜ ì‘ë‹µ í˜•ì‹</h3>
                <p>ëª¨ë“  API ì˜¤ë¥˜ëŠ” ë‹¤ìŒê³¼ ê°™ì€ í‘œì¤€ í˜•ì‹ìœ¼ë¡œ ì‘ë‹µë©ë‹ˆë‹¤.</p>
                
                <div class="code-block">{
  "timestamp": "2024-01-15T10:30:00Z",
  "status": 400,
  "error": "Bad Request",
  "message": "ìƒì„¸ ì˜¤ë¥˜ ë©”ì‹œì§€",
  "path": "/api/endpoint",
  "traceId": "abc123def456",
  "validationErrors": [
    {
      "field": "í•„ë“œëª…",
      "message": "í•„ë“œë³„ ì˜¤ë¥˜ ë©”ì‹œì§€",
      "rejectedValue": "ê±°ë¶€ëœ ê°’"
    }
  ]
}</div>

                <h3>ì£¼ìš” ì˜¤ë¥˜ ì½”ë“œ</h3>
                <table class="info-table">
                    <tr>
                        <th>ìƒíƒœ ì½”ë“œ</th>
                        <th>ì˜¤ë¥˜ íƒ€ì…</th>
                        <th>ì„¤ëª…</th>
                        <th>í•´ê²° ë°©ë²•</th>
                    </tr>
                    <tr>
                        <td>400</td>
                        <td>Bad Request</td>
                        <td>ì˜ëª»ëœ ìš”ì²­ í˜•ì‹ ë˜ëŠ” ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨</td>
                        <td>ìš”ì²­ ë°ì´í„° í™•ì¸ ë° ìˆ˜ì •</td>
                    </tr>
                    <tr>
                        <td>401</td>
                        <td>Unauthorized</td>
                        <td>ì¸ì¦ í† í°ì´ ì—†ê±°ë‚˜ ìœ íš¨í•˜ì§€ ì•ŠìŒ</td>
                        <td>ë¡œê·¸ì¸ í›„ ìœ íš¨í•œ í† í°ìœ¼ë¡œ ì¬ìš”ì²­</td>
                    </tr>
                    <tr>
                        <td>403</td>
                        <td>Forbidden</td>
                        <td>ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŒ</td>
                        <td>ê¶Œí•œ í™•ì¸ ë˜ëŠ” ê´€ë¦¬ì ë¬¸ì˜</td>
                    </tr>
                    <tr>
                        <td>404</td>
                        <td>Not Found</td>
                        <td>ìš”ì²­í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ</td>
                        <td>URL ë° ë¦¬ì†ŒìŠ¤ ID í™•ì¸</td>
                    </tr>
                    <tr>
                        <td>409</td>
                        <td>Conflict</td>
                        <td>ë¦¬ì†ŒìŠ¤ ì¶©ëŒ (ì¤‘ë³µ ë“±)</td>
                        <td>ì¤‘ë³µ ë°ì´í„° í™•ì¸ ë° ìˆ˜ì •</td>
                    </tr>
                    <tr>
                        <td>429</td>
                        <td>Too Many Requests</td>
                        <td>ìš”ì²­ í•œë„ ì´ˆê³¼</td>
                        <td>ì ì‹œ í›„ ì¬ì‹œë„</td>
                    </tr>
                    <tr>
                        <td>500</td>
                        <td>Internal Server Error</td>
                        <td>ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜</td>
                        <td>ê´€ë¦¬ì ë¬¸ì˜</td>
                    </tr>
                </table>

                <h3>ì˜¤ë¥˜ ì²˜ë¦¬ ê¶Œì¥ì‚¬í•­</h3>
                <div class="constraint-info">
                    <h5>ğŸ’¡ í´ë¼ì´ì–¸íŠ¸ ì˜¤ë¥˜ ì²˜ë¦¬ ê°€ì´ë“œ</h5>
                    <ul>
                        <li><strong>401 ì˜¤ë¥˜:</strong> ìë™ìœ¼ë¡œ í† í° ê°±ì‹  ì‹œë„ í›„ ì¬ìš”ì²­</li>
                        <li><strong>429 ì˜¤ë¥˜:</strong> Exponential Backoff ì•Œê³ ë¦¬ì¦˜ ì‚¬ìš©</li>
                        <li><strong>5xx ì˜¤ë¥˜:</strong> ì‚¬ìš©ìì—ê²Œ ì¹œí™”ì ì¸ ë©”ì‹œì§€ í‘œì‹œ</li>
                        <li><strong>ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜:</strong> ì¬ì‹œë„ ë¡œì§ êµ¬í˜„ (ìµœëŒ€ 3íšŒ)</li>
                        <li><strong>íƒ€ì„ì•„ì›ƒ:</strong> 30ì´ˆ ì´ìƒ ì‘ë‹µ ì—†ì„ ì‹œ ìš”ì²­ ì·¨ì†Œ</li>
                    </ul>
                </div>

                <h3>ì˜¤ë¥˜ ì½”ë“œë³„ ìƒì„¸ ì˜ˆì‹œ</h3>
                
                <h4>ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨ (400)</h4>
                <div class="code-block">{
  "timestamp": "2024-01-15T10:30:00Z",
  "status": 400,
  "error": "Bad Request",
  "message": "Validation failed for multiple fields",
  "path": "/api/public/join",
  "traceId": "abc123def456",
  "validationErrors": [
    {
      "field": "userPw",
      "message": "ë¹„ë°€ë²ˆí˜¸ëŠ” 8ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤",
      "rejectedValue": "123"
    },
    {
      "field": "email",
      "message": "ìœ íš¨í•œ ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤",
      "rejectedValue": "invalid-email"
    }
  ]
}</div>

                <h4>ì¸ì¦ ì‹¤íŒ¨ (401)</h4>
                <div class="code-block">{
  "timestamp": "2024-01-15T10:30:00Z",
  "status": 401,
  "error": "Unauthorized",
  "message": "JWT token is expired",
  "path": "/api/diaries",
  "traceId": "def456ghi789",
  "details": {
    "tokenExpiredAt": "2024-01-15T10:00:00Z",
    "refreshTokenAvailable": true
  }
}</div>

                <h4>ë¦¬ì†ŒìŠ¤  "2024-01-15T10:00:00Z",
    "refreshTokenAvailable": true
  }
}</div>

                <h4>ë¦¬ì†ŒìŠ¤ ì¶©ëŒ (409)</h4>
                <div class="code-block">{
  "timestamp": "2024-01-15T10:30:00Z",
  "status": 409,
  "error": "Conflict",
  "message": "ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì‚¬ìš©ì IDì…ë‹ˆë‹¤",
  "path": "/api/public/join",
  "traceId": "ghi789jkl012",
  "conflictDetails": {
    "conflictField": "userId",
    "conflictValue": "newUser123",
    "suggestion": "ë‹¤ë¥¸ ì‚¬ìš©ì IDë¥¼ ì‹œë„í•´ë³´ì„¸ìš”"
  }
}</div>

                <h4>ìš”ì²­ í•œë„ ì´ˆê³¼ (429)</h4>
                <div class="code-block">{
  "timestamp": "2024-01-15T10:30:00Z",
  "status": 429,
  "error": "Too Many Requests",
  "message": "API ìš”ì²­ í•œë„ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤",
  "path": "/api/diaries/1/analysis",
  "traceId": "jkl012mno345",
  "rateLimitDetails": {
    "limit": 20,
    "remaining": 0,
    "resetTime": "2024-01-15T11:00:00Z",
    "retryAfter": 1800
  }
}</div>
            </section>

            <section id="models" class="api-section">
                <h2>ë°ì´í„° ëª¨ë¸</h2>
                
                <h3>ì¸ì¦ ë° ì‚¬ìš©ì ëª¨ë¸</h3>
                <table class="info-table">
                    <tr>
                        <th>ëª¨ë¸</th>
                        <th>ì„¤ëª…</th>
                        <th>ì£¼ìš” í•„ë“œ</th>
                        <th>ì‚¬ìš© ìœ„ì¹˜</th>
                    </tr>
                    <tr>
                        <td>JoinRequest</td>
                        <td>íšŒì›ê°€ì… ìš”ì²­</td>
                        <td>userId, userPw, userName, nickname, phone, gender, code ë“±</td>
                        <td>POST /api/public/join</td>
                    </tr>
                    <tr>
                        <td>LoginRequest</td>
                        <td>ë¡œê·¸ì¸ ìš”ì²­</td>
                        <td>userId, password</td>
                        <td>POST /api/auth/login</td>
                    </tr>
                    <tr>
                        <td>LoginResponse</td>
                        <td>ë¡œê·¸ì¸ ì‘ë‹µ</td>
                        <td>access_token, expires_in, token_type, user</td>
                        <td>POST /api/auth/login</td>
                    </tr>
                    <tr>
                        <td>TokenRefreshRequest</td>
                        <td>í† í° ê°±ì‹  ìš”ì²­</td>
                        <td>expiredToken, provider</td>
                        <td>POST /auth/api/protected/refresh</td>
                    </tr>
                    <tr>
                        <td>TokenRefreshResponse</td>
                        <td>í† í° ê°±ì‹  ì‘ë‹µ</td>
                        <td>access_token, expires_in, token_type</td>
                        <td>POST /auth/api/protected/refresh</td>
                    </tr>
                </table>

                <h3>ì¼ê¸° ë° ë¶„ì„ ëª¨ë¸</h3>
                <table class="info-table">
                    <tr>
                        <th>ëª¨ë¸</th>
                        <th>ì„¤ëª…</th>
                        <th>ì£¼ìš” í•„ë“œ</th>
                        <th>ì‚¬ìš© ìœ„ì¹˜</th>
                    </tr>
                    <tr>
                        <td>DiaryCreateRequest</td>
                        <td>ì¼ê¸° ìƒì„± ìš”ì²­</td>
                        <td>title, content</td>
                        <td>POST /api/diaries</td>
                    </tr>
                    <tr>
                        <td>DiaryResponse</td>
                        <td>ì¼ê¸° ì‘ë‹µ</td>
                        <td>id, userId, title, content, createdAt, updatedAt, wordCount</td>
                        <td>POST, GET, PUT /api/diaries</td>
                    </tr>
                    <tr>
                        <td>DiaryListItem</td>
                        <td>ì¼ê¸° ëª©ë¡ í•­ëª©</td>
                        <td>id, title, createdAt, emotionStatus, wordCount, isAnalyzed</td>
                        <td>GET /api/diaries</td>
                    </tr>
                    <tr>
                        <td>DiaryAnalysisResult</td>
                        <td>ì¼ê¸° ë¶„ì„ ê²°ê³¼</td>
                        <td>emotionDetection, automaticThought, alternativeThought, status, confidence</td>
                        <td>GET /api/diaries/{id}/analysis</td>
                    </tr>
                    <tr>
                        <td>DiaryAnalysisRequestResponse</td>
                        <td>ì¼ê¸° ë¶„ì„ ìš”ì²­ ì‘ë‹µ</td>
                        <td>message, diaryId, trackingId, estimatedTime</td>
                        <td>POST /api/diaries/{id}/analysis</td>
                    </tr>
                </table>

                <h3>ì„¤ì • ë° ê¸°íƒ€ ëª¨ë¸</h3>
                <table class="info-table">
                    <tr>
                        <th>ëª¨ë¸</th>
                        <th>ì„¤ëª…</th>
                        <th>ì£¼ìš” í•„ë“œ</th>
                        <th>ì‚¬ìš© ìœ„ì¹˜</th>
                    </tr>
                    <tr>
                        <td>SettingItem</td>
                        <td>ì„¤ì • í•­ëª©</td>
                        <td>settingKey, value, dataType, description, isUserEditable</td>
                        <td>GET /api/settings</td>
                    </tr>
                    <tr>
                        <td>SettingsUpdateRequest</td>
                        <td>ì„¤ì • ìˆ˜ì • ìš”ì²­</td>
                        <td>settingsToUpdate</td>
                        <td>PUT /api/settings</td>
                    </tr>
                    <tr>
                        <td>ErrorResponse</td>
                        <td>ì˜¤ë¥˜ ì‘ë‹µ</td>
                        <td>timestamp, status, error, message, path, traceId, validationErrors</td>
                        <td>ëª¨ë“  ì˜¤ë¥˜ ì‘ë‹µ</td>
                    </tr>
                    <tr>
                        <td>PageInfo</td>
                        <td>í˜ì´ì§€ë„¤ì´ì…˜ ì •ë³´</td>
                        <td>currentPage, totalPages, totalElements, hasNext, hasPrevious</td>
                        <td>í˜ì´ì§€ë„¤ì´ì…˜ì´ ìˆëŠ” ëª¨ë“  API</td>
                    </tr>
                </table>

                <h3>ì—´ê±°í˜• (Enum) ì •ì˜</h3>
                <table class="info-table">
                    <tr>
                        <th>ì—´ê±°í˜•</th>
                        <th>ê°’</th>
                        <th>ì„¤ëª…</th>
                    </tr>
                    <tr>
                        <td>UserRole</td>
                        <td>USER, ADMIN, MODERATOR</td>
                        <td>ì‚¬ìš©ì ê¶Œí•œ</td>
                    </tr>
                    <tr>
                        <td>Gender</td>
                        <td>male, female, other</td>
                        <td>ì„±ë³„</td>
                    </tr>
                    <tr>
                        <td>EmotionStatus</td>
                        <td>POSITIVE, NEGATIVE, NEUTRAL, MIXED</td>
                        <td>ê°ì • ìƒíƒœ</td>
                    </tr>
                    <tr>
                        <td>AnalysisStatus</td>
                        <td>PENDING, IN_PROGRESS, COMPLETED, FAILED</td>
                        <td>ë¶„ì„ ì§„í–‰ ìƒíƒœ</td>
                    </tr>
                    <tr>
                        <td>AuthProvider</td>
                        <td>server, google, kakao, naver</td>
                        <td>ì¸ì¦ ì œê³µì</td>
                    </tr>
                </table>
            </section>
        </main>
    </div>

    <button class="back-to-top" onclick="scrollToTop()">â†‘</button>

    <script>
        // ê²€ìƒ‰ ê¸°ëŠ¥
        function searchAPI() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const sections = document.querySelectorAll('.api-section');
            const endpoints = document.querySelectorAll('.endpoint');
            
            // ëª¨ë“  ì„¹ì…˜ê³¼ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ë¨¼ì € ìˆ¨ê¹€
            sections.forEach(section => {
                section.classList.add('hidden');
            });
            
            endpoints.forEach(endpoint => {
                endpoint.classList.add('hidden');
            });
            
            if (searchTerm === '') {
                // ê²€ìƒ‰ì–´ê°€ ì—†ìœ¼ë©´ ëª¨ë“  ê²ƒì„ ë‹¤ì‹œ í‘œì‹œ
                sections.forEach(section => {
                    section.classList.remove('hidden');
                });
                endpoints.forEach(endpoint => {
                    endpoint.classList.remove('hidden');
                });
                return;
            }
            
            // ê²€ìƒ‰ì–´ì™€ ì¼ì¹˜í•˜ëŠ” í•­ëª©ë“¤ì„ ì°¾ì•„ì„œ í‘œì‹œ
            sections.forEach(section => {
                const sectionText = section.textContent.toLowerCase();
                if (sectionText.includes(searchTerm)) {
                    section.classList.remove('hidden');
                    // í•´ë‹¹ ì„¹ì…˜ì˜ ëª¨ë“  ì—”ë“œí¬ì¸íŠ¸ë„ í‘œì‹œ
                    const sectionEndpoints = section.querySelectorAll('.endpoint');
                    sectionEndpoints.forEach(endpoint => {
                        endpoint.classList.remove('hidden');
                    });
                }
            });
            
            // ê²€ìƒ‰ì–´ í•˜ì´ë¼ì´íŠ¸
            highlightSearchTerm(searchTerm);
        }
        
        function highlightSearchTerm(term) {
            if (term === '') return;
            
            const walker = document.createTreeWalker(
                document.querySelector('.main-content'),
                NodeFilter.SHOW_TEXT,
                null,
                false
            );
            
            const textNodes = [];
            let node;
            
            while (node = walker.nextNode()) {
                textNodes.push(node);
            }
            
            textNodes.forEach(textNode => {
                const parent = textNode.parentNode;
                if (parent.tagName === 'SCRIPT' || parent.tagName === 'STYLE') return;
                
                const text = textNode.textContent;
                const regex = new RegExp(`(${term})`, 'gi');
                
                if (regex.test(text)) {
                    const highlightedText = text.replace(regex, '<span class="highlight">$1</span>');
                    const wrapper = document.createElement('div');
                    wrapper.innerHTML = highlightedText;
                    
                    while (wrapper.firstChild) {
                        parent.insertBefore(wrapper.firstChild, textNode);
                    }
                    parent.removeChild(textNode);
                }
            });
        }
        
        // ë„¤ë¹„ê²Œì´ì…˜ í™œì„±í™”
        function setActiveNav() {
            const sections = document.querySelectorAll('.api-section');
            const navItems = document.querySelectorAll('.nav-item');
            
            window.addEventListener('scroll', () => {
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    const sectionHeight = section.clientHeight;
                    if (window.pageYOffset >= sectionTop - 200) {
                        current = section.getAttribute('id');
                    }
                });
                
                navItems.forEach(item => {
                    item.classList.remove('active');
                    if (item.getAttribute('href') === `#${current}`) {
                        item.classList.add('active');
                    }
                });
            });
        }
        
        // ë¶€ë“œëŸ¬ìš´ ìŠ¤í¬ë¡¤
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = item.getAttribute('href').substring(1);
                const targetSection = document.getElementById(targetId);
                if (targetSection) {
                    targetSection.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
        
        // ë§¨ ìœ„ë¡œ ìŠ¤í¬ë¡¤
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }
        
        // ì‚¬ì´ë“œë°” í† ê¸€ (ëª¨ë°”ì¼)
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('open');
        }
        
        // ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', () => {
            setActiveNav();
            
            // ì‚¬ì´ë“œë°” ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸° (ëª¨ë°”ì¼)
            document.addEventListener('click', (e) => {
                const sidebar = document.getElementById('sidebar');
                const menuToggle = document.querySelector('.menu-toggle');
                
                if (window.innerWidth <= 768 && 
                    !sidebar.contains(e.target) && 
                    !menuToggle.contains(e.target)) {
                    sidebar.classList.remove('open');
                }
            });
        });
    </script>
</body>
</html>

